# Шардирование в MongoDB

### 1 Для реализации шардирования необходимо в compose.yaml:

#### 1.1 Добавить контейнер с сервером конфигурации (configSrv)
- хранит метаданные шардирования и конфигурационные данные

#### 1.2 Добавить контейнер с маршрутизатором (mongos_router)
- принимает запросы от клиентов и направляет их к соответствующим шардовым серверам

#### 1.3 Добавить контейнеры с шардами (shard1, shard2, ..., shardN)
- хранят данные

#### 1.4 Добавить контейнеры с репликами шардов (shard1_repl, shard2_repl, ..., shardN_repl)
- хранят копии данных с шардов

### 2 В отдельном скрипте (например, init.sh) добавить:

#### 2.1 Инициализацию сервера конфигурации

#### 2.2 Инициализацию каждого из шардов и их реплик

#### 2.3 Инициализацию каждого шарда в сервере роутера

## Для запуска приложения выполнить скрипт:

```shell
./init.sh 
```

### Приложение pymongo-api доступно на локальной машине:

http://localhost:8080

### Swagger:

http://localhost:8080/docs

## Для остановки приложения выполнить скрипт:

```shell
./deinit.sh 
```
